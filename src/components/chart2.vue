<template>
  <div class="chart2">
      <h3>台北和淡水歷年均溫走勢圖</h3>
      <section id="chart2-background">
        <mq-layout :mq="['xs', 's', 'm']">
          <svg :class="controlAnimationProcessMob" class="chart2-mob" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              viewBox="0 0 520 925" style="enable-background:new 0 0 520 925;" xml:space="preserve">
            <g id="heat_x5F_island_x5F_chart1_x5F_background_x5F_mob">
              <rect x="432.23" y="170.25" class="st0" width="13.88" height="13"/>
              <rect x="344.43" y="170.25" class="st1" width="13.88" height="13"/>
              <g>
                <text transform="matrix(1.1186 0 0 1.0533 367.0459 183.7559)" class="st2 st3 st4">台北</text>
              </g>
              <g>
                <text transform="matrix(1.1186 0 0 1.0533 452.2881 183.7559)" class="st2 st3 st4">淡水</text>
              </g>
              <line class="st5" x1="47.56" y1="702.14" x2="488.06" y2="702.14"/>
              <line class="st5" x1="93.8" y1="227.18" x2="93.8" y2="713.35"/>
              <line class="st5" x1="151.73" y1="227.18" x2="151.73" y2="713.35"/>
              <line class="st5" x1="209.67" y1="227.18" x2="209.67" y2="713.35"/>
              <line class="st5" x1="260.67" y1="227.18" x2="260.67" y2="713.35"/>
              <line class="st5" x1="325.96" y1="227.18" x2="325.96" y2="713.35"/>
              <line class="st5" x1="383.9" y1="227.18" x2="383.9" y2="713.35"/>
              <line class="st5" x1="441.83" y1="227.18" x2="441.83" y2="713.35"/>
              <line class="st5" x1="487.93" y1="227.18" x2="487.93" y2="713.35"/>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 705.5752)" class="st0 st6 st7">20</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 610.4854)" class="st0 st6 st7">21</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 515.3965)" class="st0 st6 st7">22</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 420.3096)" class="st0 st6 st7">23</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 325.2188)" class="st0 st6 st7">24</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 15.9883 230.1338)" class="st0 st6 st7">25</text>
              </g>
              <line class="st5" x1="47.56" y1="713.38" x2="47.56" y2="226.67"/>
              <line class="st5" x1="42.77" y1="607.05" x2="488.06" y2="607.05"/>
              <line class="st5" x1="42.77" y1="511.97" x2="488.06" y2="511.97"/>
              <line class="st5" x1="42.77" y1="416.88" x2="488.06" y2="416.88"/>
              <line class="st5" x1="42.77" y1="321.79" x2="488.06" y2="321.79"/>
              <line class="st5" x1="42.77" y1="226.7" x2="488.06" y2="226.7"/>
              <g>
                <text transform="matrix(1.0052 0 0 1 39.0127 732.7783)" class="st0 st6 st7">1943</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 237.7031 732.7783)" class="st0 st6 st7">1980</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 358.2461 732.7783)" class="st0 st6 st7">2000</text>
              </g>
              <g>
                <text transform="matrix(1.0052 0 0 1 446.5576 732.7783)" class="st0 st6 st7">2018</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 455.2686 763.1855)" class="st0 st3 st7">(年)</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 10.2764 183.5859)" class="st0 st3 st4">(</text>
                <text transform="matrix(0.9494 0 0 1 21.1025 183.5859)" class="st0 st3 st4">℃</text>
                <text transform="matrix(1.046 0 0 1 40.7559 183.5859)" class="st0 st3 st4">)</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 49.5508 185.0176)" class="st0 st3 st4">全年平均溫度</text>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_taipei_x5F_mob">
              <polyline class="st8" points="54.82,506.11 60.74,474.44 66.66,533.7 72.16,457.07 78.08,533.7 84,485.68 89.5,484.65 
                95.42,536.76 106.84,473.42 113.18,467.29 118.68,442.76 124.17,535.74 130.09,509.18 135.59,512.24 141.51,481.59 147.43,462.18 
                153.35,473.42 158.85,459.11 164.77,515.31 170.69,513.26 176.19,458.09 182.11,487.72 188.03,443.79 193.53,498.96 199.02,532.68 
                204.94,515.31 210.87,501 216.36,499.98 222.28,503.05 228.2,463.2 233.7,491.81 239.62,482.61 245.54,499.98 251.04,428.46 
                256.96,478.52 262.88,499.98 268.38,467.29 273.87,467.29 279.8,470.35 285.72,446.85 292.06,517.35 297.56,455.02 303.48,473.42 
                308.97,414.16 314.47,412.11 320.39,411.09 325.89,369.2 331.81,369.2 337.73,483.63 343.65,446.85 349.15,400.87 355.07,480.57 
                360.57,466.26 366.91,462.18 372.41,367.16 377.9,417.22 383.82,396.79 389.74,386.57 395.24,340.59 407.08,408.02 413,391.68 
                418.5,342.63 424.42,363.07 429.92,401.89 435.84,375.33 441.34,392.7 447.26,439.7 453.18,399.85 458.67,381.46 464.59,371.24 
                470.52,343.66 476.01,325.26 481.93,333.44 487.85,331.4 	"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_tamsui_x5F_mob">
              <polyline class="st9" points="55.24,501 61.16,505.09 66.24,536.76 72.16,450.94 78.08,525.52 84,475.46 89.5,474.44 95.42,522.46 
                106.84,467.29 112.76,472.39 118.25,443.79 124.17,520.42 130.09,499.98 135.59,503.05 141.51,478.52 147.43,460.13 152.93,459.11 
                158.43,446.85 164.77,515.31 170.27,509.18 176.19,474.44 181.69,491.81 187.18,466.26 193.53,510.2 199.45,539.83 204.94,534.72 
                210.87,513.26 216.36,507.13 222.28,515.31 228.2,480.57 234.12,509.18 239.62,504.07 245.54,523.48 251.04,445.83 256.96,495.89 
                262.88,498.96 268.8,458.09 274.3,462.18 279.8,471.37 285.72,448.89 291.64,515.31 297.13,514.28 303.05,554.13 308.97,520.42 
                314.47,539.83 320.39,519.39 326.31,490.78 331.81,486.7 337.73,564.35 343.65,498.96 349.15,482.61 355.07,548 360.57,548 
                366.49,527.57 372.41,462.18 378.33,481.59 383.82,471.37 389.74,481.59 395.24,449.92 401.16,476.48 407.08,511.22 412.58,515.31 
                418.5,461.15 424.42,465.24 429.92,481.59 435.84,449.92 441.34,485.68 447.26,541.87 453.18,504.07 458.67,446.85 464.59,439.7 
                470.09,410.07 476.01,421.31 481.93,401.89 487.85,413.13 	"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1985_x5F_mob">
              <circle class="st1" cx="297.65" cy="453.49" r="4.83"/>
              <circle class="st0" cx="297.65" cy="514.21" r="4.83"/>
              <g>
                <text transform="matrix(1.1018 0 0 1 252.1016 421.479)" class="st1 st10 st11">22.6</text>
              </g>
              <g>
                <text transform="matrix(1.1018 0 0 1 250.1016 544.3384)" class="st0 st10 st11">22.0</text>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1985line_x5F_mob">
              <g>
                <g>
                  <line class="st12" x1="296.92" y1="227.18" x2="296.92" y2="229.68"/>
                  <line class="st13" x1="296.92" y1="232.72" x2="296.92" y2="247.41"/>
                  <line class="st14" x1="296.92" y1="248.93" x2="296.92" y2="709.5"/>
                  <line class="st12" x1="296.92" y1="711.02" x2="296.92" y2="713.52"/>
                </g>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_2018_x5F_mob">
              <g>
                <text transform="matrix(1.1018 0 0 1 460.6094 318.2119)" class="st1 st10 st7">23.9</text>
              </g>
              <circle class="st1" cx="489.45" cy="332.64" r="4.83"/>
              <circle class="st0" cx="489.87" cy="415.4" r="4.83"/>
              <text transform="matrix(1.046 0 0 1 463.0049 401.0117)" class="st0 st10 st7">23.0</text>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_dot_x5F_mob">
              <circle class="st1" cx="260.55" cy="702.18" r="4.83"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_line_x5F_mob">
              <g>
                <g>
                  <line class="st12" x1="260.55" y1="227.18" x2="260.55" y2="229.68"/>
                  <line class="st13" x1="260.55" y1="232.72" x2="260.55" y2="247.41"/>
                  <line class="st14" x1="260.55" y1="248.93" x2="260.55" y2="709.5"/>
                  <line class="st12" x1="260.55" y1="711.02" x2="260.55" y2="713.52"/>
                </g>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1980_x5F_mob">
              <g>
                <text transform="matrix(1.1018 0 0 1 239.1152 547.6455)" class="st1 st10 st11">22.5</text>
              </g>
              <circle class="st1" cx="260.92" cy="501.07" r="4.83"/>
              <circle class="st0" cx="260.92" cy="493.83" r="4.83"/>
              <text transform="matrix(1.046 0 0 1 240.2539 420.4443)" class="st0 st10 st11">22.6</text>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1986_x5F_mob">
              <g>
                <text transform="matrix(1.1018 0 0 1 252.8945 431.4736)" class="st1 st10 st11">22.4</text>
              </g>
              <circle class="st1" cx="303.41" cy="474.9" r="4.83"/>
              <circle class="st0" cx="302.84" cy="553.66" r="4.83"/>
              <text transform="matrix(1.046 0 0 1 250.1719 558.2734)" class="st0 st10 st11">21.6</text>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1987_x5F_mob">
              <g>
                <text transform="matrix(1.1018 0 0 1 269.1221 396.4561)" class="st1 st10 st11">23.0</text>
              </g>
              <circle class="st1" cx="309.64" cy="413.88" r="4.83"/>
              <circle class="st0" cx="309.06" cy="522.64" r="4.83"/>
              <text transform="matrix(1.046 0 0 1 271.3994 586.2559)" class="st0 st10 st11">21.9</text>
            </g>
            </svg>
        </mq-layout>
        <mq-layout :mq="['l', 'xl']">
          <svg :class="controlAnimationProcessWeb" class="chart2-web" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              viewBox="0 0 1280 720" style="enable-background:new 0 0 1280 720;" xml:space="preserve">
            <g id="heat_x5F_island_x5F_chart1_x5F_background">
              <line class="st0" x1="155.77" y1="600.36" x2="1144.76" y2="600.36"/>
              <line class="st0" x1="168.79" y1="600" x2="168.79" y2="611.34"/>
              <line class="st0" x1="259.59" y1="135.5" x2="259.59" y2="611.34"/>
              <line class="st0" x1="389.66" y1="135.5" x2="389.66" y2="611.34"/>
              <line class="st0" x1="519.73" y1="135.5" x2="519.73" y2="611.34"/>
              <line class="st0" x1="650.75" y1="135.5" x2="650.75" y2="611.34"/>
              <line class="st0" x1="780.82" y1="135.5" x2="780.82" y2="611.34"/>
              <line class="st0" x1="910.89" y1="135.5" x2="910.89" y2="611.34"/>
              <line class="st0" x1="1040.96" y1="135.5" x2="1040.96" y2="611.34"/>
              <line class="st0" x1="1144.45" y1="135.5" x2="1144.45" y2="611.34"/>
              <text transform="matrix(1.046 0 0 1 119.3789 603.7227)" class="st1 st2 st3">20</text>
              <text transform="matrix(1.046 0 0 1 119.3789 510.6563)" class="st1 st2 st3">21</text>
              <text transform="matrix(1.046 0 0 1 119.3789 417.5898)" class="st1 st2 st3">22</text>
              <text transform="matrix(1.046 0 0 1 119.3789 324.5234)" class="st1 st2 st3">23</text>
              <text transform="matrix(1.046 0 0 1 119.3789 231.4561)" class="st1 st2 st3">24</text>
              <text transform="matrix(1.046 0 0 1 119.3789 138.3916)" class="st1 st2 st3">25</text>
              <line class="st0" x1="155.77" y1="611.36" x2="155.77" y2="135"/>
              <line class="st0" x1="145.03" y1="507.3" x2="1144.76" y2="507.3"/>
              <line class="st0" x1="145.03" y1="414.23" x2="1144.76" y2="414.23"/>
              <line class="st0" x1="145.03" y1="321.16" x2="1144.76" y2="321.16"/>
              <line class="st0" x1="145.03" y1="228.1" x2="1144.76" y2="228.1"/>
              <line class="st0" x1="145.03" y1="135.03" x2="1144.76" y2="135.03"/>
              <g>
                <text transform="matrix(1.046 0 0 1 143.5879 630.3486)" class="st1 st2 st3">1943</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 233.7832 630.3486)" class="st1 st2 st3">1950</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 363.8535 630.3486)" class="st1 st2 st3">1960</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 494.873 630.3486)" class="st1 st2 st3">1970</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 626.8418 630.3486)" class="st1 st2 st3">1980</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 691.4023 630.3486)" class="st4 st2 st3">1985</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 755.9629 630.3486)" class="st1 st2 st3">1990</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 885.084 630.3486)" class="st1 st2 st3">2000</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 1018.0029 630.3486)" class="st1 st2 st3">2010</text>
              </g>
              <g>
                <text transform="matrix(1.046 0 0 1 1120.54 630.3486)" class="st1 st2 st3">2018</text>
              </g>
              <text transform="matrix(1 0 0 1.0533 94.4434 298.2559)" class="st1 st5 st6">全年平均溫度</text>
              <text transform="matrix(0.9494 0 0 1 84 432.0693)" class="st1 st5 st3">℃</text>
              <g>
                <text transform="matrix(0 1.0533 -1 0 87.9561 407.1396)" class="st1 st5 st7">(</text>
              </g>
              <g>
                <text transform="matrix(0 -1.0533 -1 0 87.9561 444.1396)" class="st1 st5 st7">(</text>
              </g>
              <g>
                <text transform="matrix(0.9494 0 0 1 1162.4492 631.7441)" class="st1 st5 st3">(年)</text>
              </g>
              <rect x="1093.88" y="100.58" class="st1" width="11.12" height="10.42"/>
              <rect x="1016.88" y="100.58" class="st4" width="11.12" height="10.42"/>
              <g>
                <text transform="matrix(1.1186 0 0 1.0533 1035.001 111.4033)" class="st8 st5 st7">台北</text>
              </g>
              <g>
                <text transform="matrix(1.1186 0 0 1.0533 1109.9473 111.4033)" class="st8 st5 st7">淡水</text>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_taipei">
              <polyline class="st9" points="172.08,408.5 185.38,377.5 198.67,435.5 211.01,360.5 224.3,435.5 237.59,388.5 249.94,387.5 
                263.23,438.5 288.86,376.5 303.1,370.5 315.45,346.5 327.79,437.5 341.08,411.5 353.42,414.5 366.71,384.5 380.01,365.5 
                393.3,376.5 405.64,362.5 418.93,417.5 432.22,415.5 444.57,361.5 457.86,390.5 471.15,347.5 483.49,401.5 495.84,434.5 
                509.13,417.5 522.42,403.5 534.76,402.5 548.05,405.5 561.35,366.5 573.69,394.5 586.98,385.5 600.27,402.5 612.61,332.5 
                625.91,381.5 639.2,402.5 651.54,370.5 663.88,370.5 677.17,373.5 690.47,350.5 704.71,419.5 717.05,358.5 730.34,376.5 
                742.68,318.5 755.03,316.5 768.32,315.5 780.66,274.5 793.95,274.5 807.24,386.5 820.54,350.5 832.88,305.5 846.17,383.5 
                858.51,369.5 872.75,365.5 885.1,272.5 897.44,321.5 910.73,301.5 924.02,291.5 936.37,246.5 962.95,312.5 976.24,296.5 
                988.58,248.5 1001.88,268.5 1014.22,306.5 1027.51,280.5 1039.85,297.5 1053.14,343.5 1066.44,304.5 1078.78,286.5 1092.07,276.5 
                1105.36,249.5 1117.7,231.5 1131,239.5 1144.29,237.5 	"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_tamsui">
              <polyline class="st10" points="173.03,403.5 186.32,407.5 197.72,438.5 211.01,354.5 224.3,427.5 237.59,378.5 249.94,377.5 
                263.23,424.5 288.86,370.5 302.15,375.5 314.5,347.5 327.79,422.5 341.08,402.5 353.42,405.5 366.71,381.5 380.01,363.5 
                392.35,362.5 404.69,350.5 418.93,417.5 431.27,411.5 444.57,377.5 456.91,394.5 469.25,369.5 483.49,412.5 496.78,441.5 
                509.13,436.5 522.42,415.5 534.76,409.5 548.05,417.5 561.35,383.5 574.64,411.5 586.98,406.5 600.27,425.5 612.61,349.5 
                625.91,398.5 639.2,401.5 652.49,361.5 664.83,365.5 677.17,374.5 690.47,352.5 703.76,417.5 716.1,416.5 729.39,455.5 
                742.68,422.5 755.03,441.5 768.32,421.5 781.61,393.5 793.95,389.5 807.24,465.5 820.54,401.5 832.88,385.5 846.17,449.5 
                858.51,449.5 871.81,429.5 885.1,365.5 898.39,384.5 910.73,374.5 924.02,384.5 936.37,353.5 949.66,379.5 962.95,413.5 
                975.29,417.5 988.58,364.5 1001.88,368.5 1014.22,384.5 1027.51,353.5 1039.85,388.5 1053.14,443.5 1066.44,406.5 1078.78,350.5 
                1092.07,343.5 1104.41,314.5 1117.7,325.5 1131,306.5 1144.29,317.5 	"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1985">
              <g>
                <text transform="matrix(1.1018 0 0 1 668.9922 454.4883)" class="st1 st11 st12">22.0</text>
              </g>
              <circle class="st1" cx="716.05" cy="414.5" r="6"/>
              <g>
                <text transform="matrix(1.1018 0 0 1 668.9922 335.4883)" class="st4 st11 st12">22.6</text>
              </g>
              <circle class="st4" cx="717.1" cy="359.5" r="6"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1985line">
              <g>
                <g>
                  <line class="st13" x1="715.61" y1="135.5" x2="715.61" y2="138"/>
                  <line class="st14" x1="715.61" y1="140.97" x2="715.61" y2="155.35"/>
                  <line class="st15" x1="715.61" y1="156.84" x2="715.61" y2="607.51"/>
                  <line class="st13" x1="715.61" y1="609" x2="715.61" y2="611.5"/>
                </g>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_2018">
              <circle class="st1" cx="1144.76" cy="318" r="6"/>
              <text transform="matrix(1.046 0 0 1 1152.1611 321.9883)" class="st1 st11 st12">23.0</text>
              <circle class="st4" cx="1143.81" cy="237" r="6"/>
              <g>
                <text transform="matrix(1.1018 0 0 1 1152.1611 242.9883)" class="st4 st11 st12">23.9</text>
              </g>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_dot">
              <circle class="st4" cx="650.88" cy="600" r="6"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_line">
              <line class="st16" x1="650.88" y1="135.5" x2="650.88" y2="611.34"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1980">
              <g>
                <text transform="matrix(1.1018 0 0 1 646.2217 408.9883)" class="st4 st11 st12">22.5</text>
              </g>
              <text transform="matrix(1.046 0 0 1 648.4385 346.9883)" class="st1 st11 st12">22.6</text>
              <circle class="st4" cx="653" cy="375" r="6"/>
              <circle class="st1" cx="653" cy="360" r="6"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1986">
              <g>
                <text transform="matrix(1.1018 0 0 1 739.1611 384.9883)" class="st4 st11 st12">22.4</text>
              </g>
              <text transform="matrix(1.046 0 0 1 739.1611 463.9883)" class="st1 st11 st12">21.6</text>
              <circle class="st4" cx="729.81" cy="379" r="6"/>
              <circle class="st1" cx="728.76" cy="457" r="6"/>
            </g>
            <g id="heat_x5F_island_x5F_chart1_x5F_1987">
              <g>
                <text transform="matrix(1.1018 0 0 1 718.5918 303.9883)" class="st4 st11 st12">23.0</text>
              </g>
              <text transform="matrix(1.046 0 0 1 745.7305 460.9883)" class="st1 st11 st12">21.9</text>
              <circle class="st4" cx="742.81" cy="317" r="6"/>
              <circle class="st1" cx="743" cy="421" r="6"/>
            </g>
            </svg>
        </mq-layout>  
      </section>
      <div ref="chart-section1" class="section section1">
        <div class="container">
          <div  class="chart-content chart-content1">
            <p>台北、淡水氣象站的氣溫早期十分接近。</p>
          </div>
        </div>  
      </div>
      <div ref="chart-section2" class="section section2">
        <div class="container">
          <div class="chart-content chart-content2">
            <p>但自1985年起，兩站氣溫差距增至 <span class="mark">0.7度</span>，到了2018年已經<span class="mark">超過1度</span>。</p>
            <br>
            <p>推究其因，1985年前後是台北氣象站周邊地表環境改變最大的時刻。</p>
          </div>
        </div>   
      </div>
      <div  ref="chart-section3" class="section section3">
        <div class="container">
          <div class="chart-content chart-content5">
            <p>1986年，國家圖書館啟用</p>
            <img src="../../public/images/heat_island_img4.jpg" alt="">
          </div>
        </div>   
      </div>
      <div ref="chart-section4" class="section section4">
        <div class="container">
          <div class="chart-content chart-content6">
            <p>這些新落成的大面積水泥鋪面與建築物，均是造成台北氣象站周圍溫度上升的因素。</p>
          </div>
        </div>   
      </div>

  </div>
</template>

<script>
import ScrollMagic from 'scrollmagic'
import { setTimeout } from 'timers';
import myMixin from '../mixin/myMixin.js'
import srcRWD from '../mixin/srcRWD.js'

export default {
  name: 'chart2',
  data () {
    return {
      currentStep: 0,
      steps: [true, false, false, false, false, false, false]
    }
  },
  props: {
    msg: String
  },
  mixins: [srcRWD, myMixin],
  mounted () {

    let vm = this
    // var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    // var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);

    window.addEventListener('scroll', this.handleScroll)

    var controller = new ScrollMagic.Controller();
    var scene1 = new ScrollMagic.Scene({triggerElement: "#chart2-background", duration: '400%', triggerHook: 'onLeave'})
                    .setPin("#chart2-background", {pushFollowers: false})
                    .addTo(controller);
    
    this.detactSVG()
  },
  methods: {
    handleScroll () {

      //最後變成剩下四段
      let section1Rect = this.$refs['chart-section1'].getBoundingClientRect()
      let section2Rect = this.$refs['chart-section2'].getBoundingClientRect()
      let section3Rect = this.$refs['chart-section3'].getBoundingClientRect()
      let section4Rect = this.$refs['chart-section4'].getBoundingClientRect()

      if ( section1Rect != 'undefined' && (section1Rect.height)*-1 < section1Rect.top && section1Rect.top < section1Rect.height ) {
        this.currentStep = 1
      } else if ( section2Rect != 'undefined' && 0 < section2Rect.bottom && section2Rect.bottom < section2Rect.height) {
        this.currentStep = 2
      } else if ( section3Rect != 'undefined' && 0 < section3Rect.bottom && section3Rect.bottom < section3Rect.height) {
        this.currentStep = 3
      } else if ( section4Rect != 'undefined' && 0 < section4Rect.bottom && section4Rect.bottom < section4Rect.height) {
        this.currentStep = 4
      } else {
        this.currentStep = 0
      }


      // console.log(this.$refs['chart-section1'].getBoundingClientRect().top)
      // if(this.isElementInViewport(this.$refs['chart-section1'])) {
      //   console.log("hello section1")
      //   this.currentStep = 1
      // } else if(this.isElementInViewport(this.$refs['chart-section2'])) {
      //   console.log("hello section2")
      //   this.currentStep = 2
      // } else if(this.isElementInViewport(this.$refs['chart-section3'])) {
      //   this.currentStep = 3
      // } else if(this.isElementInViewport(this.$refs['chart-section4'])) {
      //   this.currentStep = 4
      // } else if(this.isElementInViewport(this.$refs['chart-section5'])) {
      //   this.currentStep = 5
      // } else if(this.isElementInViewport(this.$refs['chart-section6'])) {
      //   this.currentStep = 6
      // } else {
      //   this.currentStep = 0
      // }
      this.steps.fill(false)
      this.steps[this.currentStep] = true
    },
    detactSVG () {
      var path = document.querySelector('.st8');
      var length = path.getTotalLength();

      var path2 = document.querySelector('.st9');
      var length2 = path2.getTotalLength();

    }
  },
  computed: {
    controlAnimationProcessMob () {
      return {
        'default-mob': (this.currentStep == 0) ? true: false,
        'step1-mob': (this.currentStep == 1) ? true: false,
        'step2-mob': (this.currentStep == 2) ? true: false,
        'step3-mob': (this.currentStep == 3) ? true: false,
        'step4-mob': (this.currentStep == 4) ? true: false,
      }
    },
    controlAnimationProcessWeb () {
      return {
        'default-web': (this.currentStep == 0) ? true: false
      }
    },
    lineOne () {
      return {
        'line_one_default': (this.currentStep == 0) ? true: false,
        'line_one_step1': (this.currentStep == 1) ? true: false,
        'line_one_step2': (this.currentStep == 2) ? true: false,
        'line_one_other_step': (this.currentStep == 3) || (this.currentStep == 4) || (this.currentStep == 5) || (this.currentStep == 6) ? true: false
      }
    },
    lineTwo () {
      return {
        'line_two_default': (this.currentStep == 0) ? true: false,
        'line_two_step1': (this.currentStep == 1) ? true: false,
        'line_two_step2': (this.currentStep == 2) ? true: false,
        'line_two_other_step': (this.currentStep == 3) || (this.currentStep == 4) || (this.currentStep == 5) || (this.currentStep == 6) ? true: false
      }
    },
    lineOneWeb () {
      return {
        'line_one_web_default': (this.currentStep == 0) ? true: false,
        'line_one_web_step1': (this.currentStep == 1) ? true: false,
        'line_one_web_step2': (this.currentStep == 2) ? true: false,
        'line_one_web_other_step': (this.currentStep == 3) || (this.currentStep == 4) || (this.currentStep == 5) || (this.currentStep == 6) ? true: false
      }
    },
    lineTwoWeb () {
      return {
        'line_two_web_default': (this.currentStep == 0) ? true: false,
        'line_two_web_step1': (this.currentStep == 1) ? true: false,
        'line_two_web_step2': (this.currentStep == 2) ? true: false,
        'line_two_web_other_step': (this.currentStep == 3) || (this.currentStep == 4) || (this.currentStep == 5) || (this.currentStep == 6) ? true: false
      }
    },
    groupTwo () {
      return {
        'current_group': (this.currentStep == 0 ) || (this.currentStep == 1) ? false : true
      }
    },
    groupFive () {
      return {
        'current_group': (this.currentStep == 5) || (this.currentStep == 6) ? true: false
      }
    }
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
.chart2 {
  z-index: 100;
  background-color: white;
  //.st8 主要線
  //.st9 次要線
  #chart2-background {
    .chart2-mob {
      height: 100vh;
      width: 100%;
      .st0{fill:#707070;}
      .st1{fill:#EA0303;}
      .st2{fill:#605F5F;}
      .st3{font-family:'ARHeiB5-Light-B5pc-H';}
      .st4{font-size:20.7px;}
      .st5{fill:none;stroke:#969696;stroke-width:0.25;stroke-miterlimit:10;}
      .st6{font-family:'ArialMT';}
      .st7{font-size:22.08px;}
      .st8{
        fill:none;
        stroke:#EA0303;
        stroke-width:1.5;
        stroke-miterlimit:10;
        stroke-dasharray: 2520;
      }
      .st9{
        fill:none;
        stroke:#707070;
        stroke-width:1.5;
        stroke-miterlimit:10;
        stroke-dasharray: 2228;
      }
      .st10{font-family:'Arial-BoldMT';}
      .st11{font-size:21px;}
      .st12{fill:none;stroke:#EA0303;stroke-width:0.25;stroke-miterlimit:10;}
      .st13{fill:none;stroke:#EA0303;stroke-width:0.25;stroke-miterlimit:10;stroke-dasharray:5.0668,3.0401,5.0668,3.0401;}
      .st14{fill:none;stroke:#EA0303;stroke-width:0.25;stroke-miterlimit:10;stroke-dasharray:5.0668,3.0401,5.0668,3.0401,5.0668,3.0401;}
      .st8, .st9, #heat_x5F_island_x5F_chart1_x5F_2018_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1986_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1985_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1987_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1980_x5F_mob {
        opacity: 0;
        transition: all 1s; 
      }
    }
    .default-mob {
      .st8 {
        stroke-dashoffset: 2520;
      }
      .st9 {
        stroke-dashoffset: 2228;
      }
      .st8, .st9, #heat_x5F_island_x5F_chart1_x5F_2018_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1986_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1985_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1987_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1980_x5F_mob {
        opacity: 0;
        
      }
    }
    .step1-mob {
      .st8 {
        opacity: 1;
        stroke-dashoffset: 1090;
      }
      .st9 {
        opacity: 1;
        stroke-dashoffset: 1000;
      }
      #heat_x5F_island_x5F_chart1_x5F_1985_x5F_mob {
        opacity: 1;
      }
    }
    .step2-mob {
      .st8 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
      .st9 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
      #heat_x5F_island_x5F_chart1_x5F_2018_x5F_mob {
        opacity: 1;
      }
    }
    .step3-mob {
      .st8 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
      .st9 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
      #heat_x5F_island_x5F_chart1_x5F_2018_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1980_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1986_x5F_mob, #heat_x5F_island_x5F_chart1_x5F_1987_x5F_mob {
        opacity: 1;
      }
    }
    .step4-mob {
      .st8 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
      .st9 {
        opacity: 1;
        stroke-dashoffset: 0;
      }
    }
    .chart2-web {
      height: 100vh;
      width: 100%;
      .st0{fill:none;stroke:#969696;stroke-width:0.5;stroke-miterlimit:10;}
      .st1{fill:#707070;}
      .st2{font-family:'ArialMT';}
      .st3{font-size:18px;}
      .st4{fill:#EA0303;}
      .st5{font-family:'ARHeiB5-Light-B5pc-H';}
      .st6{font-size:15.0895px;glyph-orientation-vertical:0;writing-mode:tb;}
      .st7{font-size:17.0895px;}
      .st8{fill:#353535;}
      .st9{
        fill:none;
        stroke:#EA0303;
        stroke-width:3;
        stroke-miterlimit:10;
      }
      .st10{
        fill:none;
        stroke:#707070;
        stroke-width:3;
        stroke-miterlimit:10;
      }
      .st11{font-family:'Arial-BoldMT';}
      .st12{font-size:21px;}
      .st13{fill:none;stroke:#EA0303;stroke-width:0.5;stroke-miterlimit:10;}
      .st14{fill:none;stroke:#EA0303;stroke-width:0.5;stroke-miterlimit:10;stroke-dasharray:4.9579,2.9747,4.9579,2.9747;}
      
      .st15{fill:none;stroke:#EA0303;stroke-width:0.5;stroke-miterlimit:10;stroke-dasharray:4.9579,2.9747,4.9579,2.9747,4.9579,2.9747;}
      .st16{fill:none;stroke:#EA0303;stroke-width:0.5;stroke-miterlimit:10;stroke-dasharray:5,3,5,3,5,3;}
    }
    .default-web {
      .st9, .st10, #heat_x5F_island_x5F_chart1_x5F_1980, #heat_x5F_island_x5F_chart1_x5F_2018, #heat_x5F_island_x5F_chart1_x5F_1987, #heat_x5F_island_x5F_chart1_x5F_1986, #heat_x5F_island_x5F_chart1_x5F_1985 {
        opacity: 0;
      }
    }
  }
  .section {  
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: white;
      .chart-content {
        background-color: white;
        position: relative;
        z-index: 100;
        img {
          width: 100%;
        }
      }
  }
}

</style>